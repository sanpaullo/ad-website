<!doctype html>
<html lang="ru"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>АДешкин — сайт учителя информатики</title><link rel="stylesheet" href="style.css"></head>
<body>

  <header>
    <div class="wrap nav">
      <div style="display:flex;align-items:center">
        <a href="index.html" class="logo">
          <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <rect x="3" y="3" width="18" height="18" rx="4" stroke="currentColor" stroke-width="1.8"/>
            <path d="M8 8 L12 12 L8 16" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M13 8 H17" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/>
          </svg>
          <span>АДешкин</span>
        </a>
        <div class="switch">
          <div id="themeSwitch" aria-label="Переключить тему"></div>
          <label for="themeSwitch">Тема</label>
        </div>
      </div>
      <nav class="menu">
        <a href="classes.html">Классы</a>
        <a href="reviews.html">Обзоры</a>
        <a href="index.html#telegram">Канал Телеграм</a>
        <a class="cta" href="index.html#signup">Записаться</a>
      </nav>
    </div>
  </header>

<main>
  <section class="wrap">
    <h1>Информатика без скуки</h1>
    <div id="latestReviews" class="grid"></div>
    <p style="margin-top:16px"><a href="reviews.html">Смотреть все обзоры &rarr;</a></p>
  </section>
</main>
<footer><div class="wrap">© <span id="y"></span> Александр Дмитриевич • Учитель информатики</div></footer>
<script>document.getElementById('y').textContent = new Date().getFullYear();
async function r(){try{const e=await fetch('reviews.json');const d=await e.json();const l=d.sort((a,b)=>(b.date||'').localeCompare(a.date||'')).slice(0,3);const g=document.getElementById('latestReviews');l.forEach(i=>{const c=document.createElement('article');c.className='card';c.innerHTML=`<h3>${i.title}</h3><p>${i.summary||''}</p><span class='tag'>${i.date?new Date(i.date).toLocaleDateString('ru-RU'):''}${i.tags&&i.tags.length?' • '+i.tags.join(', '):''}</span><a href='${i.url}' target='_blank' rel='noopener' style='display:block;margin-top:10px'>Смотреть обзор &rarr;</a>`;g.appendChild(c);});}catch(e){document.getElementById('latestReviews').innerHTML='<p>Не удалось загрузить обзоры.</p>';}}</script>
<script>(function(){
  const root=document.documentElement, key='theme';
  function apply(t){
    root.setAttribute('data-theme',t);
    try{ localStorage.setItem(key,t); }catch(e){}
    const btn=document.getElementById('themeSwitch');
    if(btn){
      const isLight=(t==='light');
      btn.setAttribute('aria-checked', isLight ? 'true' : 'false');
      btn.setAttribute('title', isLight ? 'Светлая тема' : 'Тёмная тема');
      btn.classList.remove('twist'); void btn.offsetWidth; btn.classList.add('twist');
      setTimeout(()=>btn.classList.remove('twist'), 360);
    }
  }
  const saved=localStorage.getItem(key);
  if(saved){ apply(saved); }
  const btn=document.getElementById('themeSwitch');
  if(btn){
    btn.setAttribute('role','switch');
    btn.setAttribute('tabindex','0');
    btn.addEventListener('click', ()=>{
      const next=(root.getAttribute('data-theme')==='light')?'dark':'light';
      apply(next); btn.blur();
    });
    btn.addEventListener('keydown', (e)=>{
      if(e.key===' '||e.key==='Enter'){ e.preventDefault(); btn.click(); }
    });
  }
})();</script>
</body></html>